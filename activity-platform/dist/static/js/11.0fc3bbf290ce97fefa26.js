webpackJsonp([11],{"+Skr":function(t,e,i){"use strict";var n=i("r+oh"),a=i("h+QR"),s=Math.max;t.exports=function(t,e){var i,r,o,u=s(arguments.length,2);for(t=Object(a(t)),o=function(n){try{t[n]=e[n]}catch(t){i||(i=t)}},r=1;r<u;++r)e=arguments[r],n(e).forEach(o);if(void 0!==i)throw i;return t}},"+Zc3":function(t,e,i){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},"/u/4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("zQo6"),a=i.n(n),s=i("belN"),r=i.n(s),o=a()({RUNSTATEMACHINE:"runNext",GAMEOVER:"gameOver",CHECKTOOPEN:"CheckToOpen",BEGINGAME:"begingame",TIMETOGAMEEND:"timetogameend",GAMESTATE:"gamestate",offAll:function(){r()(this)}}),u=i("8I+T"),c=i.n(u),l=i("yKtR"),h=i.n(l),d=i("Zx67"),f=i.n(d),p=i("Zrlr"),m=i.n(p),y=i("wxAW"),v=i.n(y),g=i("zwoO"),b=i.n(g),x=i("Pf15"),_=i.n(x),k=function(){function t(e){m()(this,t),this.game=e,this.name="State super class"}return v()(t,[{key:"preload",value:function(){}},{key:"create",value:function(){}},{key:"toString",value:function(){return this.name}}]),t}(),w=function(){function t(e){m()(this,t);e.game;$.extend(this,c.a.fruitProps,{canSlice:!0},e),this._callbacks=[]}return v()(t,[{key:"create",value:function(t){var e=c.a.resourceMain,i=this.game,n=this.group.create(0,0,e,this.name+".png"),a=this.gravityY;n.anchor.setTo(.5),n.smoothed=!1,i.physics.arcade.enable(n),n.checkWorldBounds=!0,n.events.onOutOfBounds.add(this.outofBounds,this),this.sprite=n,this.maxVy0=Math.sqrt(2*this.maxHeight*a),this.minVy0=Math.sqrt(2*this.minHeight*a),this.y=i.height-c.a.fruitProps.throwBottom,this.worldCenterX=i.world.centerX,t||this.init()}},{key:"init",value:function(){var t,e=c.a.resourceMain,i=this.game,n=(this.group,this.sprite),a=this.gravityY,s=n.body;this.x=100+i.rnd.between(0,i.width-200),t=this.x<this.worldCenterX?1:-1,this.interacted=!0,this.isSliced=!1,n.alpha=1,n.reset(this.x,this.y),s.gravity.set(100*t,a),s.velocity.set(t*i.rnd.between(0,this.maxXSpeed),i.rnd.between(-this.minVy0,-this.maxVy0)),s.acceleration.set(0,this.yAcceleration),s.angularVelocity=100*Math.random(),this.canSlice&&(this.slicePartA=this.slicePartA||this.createSlicePart(i,e,"1",a),this.slicePartB=this.slicePartB||this.createSlicePart(i,e,"2",a))}},{key:"createSlicePart",value:function(t,e,i,n){var a=t.world.create(0,0,e,this.name+"-"+i+".png",!1);return a.anchor.setTo(.5),t.physics.arcade.enable(a),a.body.gravity.set(0,n),a.checkWorldBounds=!0,a.events.onOutOfBounds.add(function(){a.kill()},this),a}},{key:"outofBounds",value:function(){this._callbacks.forEach(function(t){t()}),this.kill()}},{key:"addOutofBoundsCallback",value:function(t){this._callbacks.push(t)}},{key:"kill",value:function(){this.sprite.kill()}},{key:"remove",value:function(){this.sprite.destroy(),this.group.removeChild(this.sprite),this.sprite=null,!this.isSliced&&this.canSlice&&(this.slicePartA.destroy(),this.slicePartB.destroy())}},{key:"update",value:function(){}},{key:"slice",value:function(t){if(!this.isSliced&&this.canSlice){var e=this.sprite.angle;t=(t+(this.sliceAngle||0))%360,this.isSliced=!0,this.sprite.body.angularVelocity=0;var i=(e+360)%360>=180,n=i?this.slicePartA:this.slicePartB,a=i?this.slicePartB:this.slicePartA;n.reset(this.sprite.x-50,this.sprite.y),a.reset(this.sprite.x+50,this.sprite.y),!i&&t>180?t-=180:i&&t<180&&(t+=180),n.angle=a.angle=t,n.body.velocity.x=-50,a.body.velocity.x=50,this.sprite.alpha=0,this.sprite.y=9999}}}]),t}(),S=i("yEsh"),T=i.n(S),M=function(t){function e(t,i,n,a,s){m()(this,e);var r=b()(this,(e.__proto__||f()(e)).call(this,t,i,n,t.cache.getBitmapData(a)));return r.radioPerAngle=Math.PI/180,r}return _()(e,t),v()(e,[{key:"onEmit",value:function(){var t=this.game.rnd.between(0,360);this.rotation=this.getRadian(t);var e=this.game.rnd.between(100,200),i=Math.cos(this.getRadian(t))*e,n=Math.sin(this.getRadian(t))*e;this.body.velocity.set(i,n)}},{key:"getRadian",value:function(t){return this.radioPerAngle*t}}]),e}(Phaser.Particle),O=function(){function t(){m()(this,t)}return v()(t,null,[{key:"createBitmap",value:function(t){var e=(t=$.extend({radius:42,range:10},t)).game,i=t.radius,n=t.range,a=i>>1,s={x:0,y:a},r={x:i,y:a},o={x:a,y:a-n},u={x:a,y:a+n},c=e.make.bitmapData(i,i),l=c.context,h=c.ctx.createLinearGradient(s.x,s.y,r.x,r.y);h.addColorStop(0,"#f0ef9c"),h.addColorStop(1,"#fafad9"),l.beginPath(),l.moveTo(s.x,s.y),l.quadraticCurveTo(o.x,o.y,r.x,r.y),l.quadraticCurveTo(u.x,u.y,s.x,s.y),l.closePath(),l.fillStyle=h,l.fill(),e.cache.addBitmapData("flame",c)}}]),t}(),P=function(){function t(e){m()(this,t),$.extend(this,{life:1e3},e),this._flames=[];var i=e.game,n=this.group,a=i.add.emitter(this.x,this.y,60);a.particleClass=M,a.makeParticles("flame"),a.gravity=0,a.setXSpeed(-300,300),a.setYSpeed(-300,300),a.setRotation(0,0),a.setAlpha(1,0,2*this.life),a.setScale(2,.1,1,.1,2*this.life,Phaser.Easing.Quintic.Out);var s=i.make.sprite(0,0,c.a.resourceMain,"smoke.png");s.anchor.set(.5),n.addChild(s),n.addChild(a),this.emitter=a,this.group=n}return v()(t,[{key:"init",value:function(){this.emitter.start(!1,this.life,16),this.isKill=!1}},{key:"kill",value:function(){this.isKill=!0}},{key:"destroy",value:function(){this.group.destroy(!0)}}]),t}(),C=function(){function t(e){m()(this,t),$.extend(this,{onComplete:$.noop},e);var i=this.game.add.sprite(this.x,this.y,c.a.resourceMain);i.anchor.set(.5);var n=i.animations.add("explode",Phaser.Animation.generateFrameNames("",1,16,".png"));n.onComplete.add(this.endAnimation,this),this.explodeSprite=i,this.explodeAni=n}return v()(t,[{key:"endAnimation",value:function(){this.explodeSprite.kill(),this.onComplete()}},{key:"position",value:function(t,e){this.explodeSprite.position.set(t,e)}},{key:"play",value:function(){this.explodeSprite.revive(),this.explodeAni.play(16,!1)}}]),t}(),A=function(t){function e(t){m()(this,e);var i=b()(this,(e.__proto__||f()(e)).call(this,t));return i.canSlice=!1,i}return _()(e,t),v()(e,[{key:"create",value:function(){T()(e.prototype.__proto__||f()(e.prototype),"create",this).call(this,!0);var t=this.sprite.body;this.flame=new P({game:this.game,x:t.halfWidth,y:-t.halfHeight,group:this.sprite}),this.init()}},{key:"init",value:function(){this.game;var t=this.flame;T()(e.prototype.__proto__||f()(e.prototype),"init",this).call(this),t.init()}},{key:"update",value:function(){var t=this.sprite.position;t.x,t.y;T()(e.prototype.__proto__||f()(e.prototype),"update",this).call(this),this.ray&&this.ray.update()}},{key:"kill",value:function(){T()(e.prototype.__proto__||f()(e.prototype),"kill",this).call(this),this.flame.kill()}},{key:"remove",value:function(){T()(e.prototype.__proto__||f()(e.prototype),"remove",this).call(this),this.flame.destroy(),this.flame=null}},{key:"slice",value:function(){var t=this.sprite,e=this.game,i=t.body,n=t.x,a=t.y;i.velocity.set(0),i.angularVelocity=0,i.gravity.set(0),i.acceleration.set(0),this.flame.kill(),t.alpha=0,t.y=9999,this.explodeAnimation?this.explodeAnimation.position(n,a):this.explodeAnimation=new C({game:e,x:n,y:a}),this.explodeAnimation.play()}}]),e}(w);window.explode=C;var E=function(t){function e(t,i,n,a,s){return m()(this,e),b()(this,(e.__proto__||f()(e)).call(this,t,i,n,t.cache.getBitmapData(a)))}return _()(e,t),e}(Phaser.Particle),j=function(){function t(){m()(this,t)}return v()(t,null,[{key:"create",value:function(t){var e=$.extend({radius:10},t),i=e.game,n=e.radius,a=e.colors,s=e.name,r=2*n,o=i.add.bitmapData(r,r),u=o.context;u.beginPath(),u.arc(n,n,n,0,2*Math.PI,0),u.closePath(),u.fillStyle=a[0],u.fill(),i.cache.addBitmapData(s,o)}}]),t}(),B=function(){function t(e){m()(this,t),$.extend(this,{width:30,gravity:500,life:3e3,count:20,alive:!0},e);var i=e.game,n=i.make.emitter(this.x,this.y,this.count);n.width=this.width,n.particleClass=E,n.makeParticles(this.name),n.gravity=this.gravity,n.setYSpeed(-350,50),n.setRotation(0,100),n.setAlpha(1,0,this.life),n.setScale(1,.1,1,.1,2*this.life,Phaser.Easing.Quintic.Out),this.emitter=n,this.alive&&(this.initial=!0,i.particles.add(n),n.start(!0,this.life,null,this.count),this.addKillSignal())}return v()(t,[{key:"restart",value:function(t,e){var i=this.emitter;this.initial||(this.initial=!0,this.game.particles.add(i)),i.emitX=t,i.emitY=e,i.start(!0,this.life,null,this.count),this.addKillSignal()}},{key:"destroy",value:function(){this.emitter.destroy()}},{key:"addKillSignal",value:function(){var t=this;this.game.time.events.add(this.life,function(){t.emitter.kill(),t.onKill()},this)}}]),t}(),F=c.a.cache.juiceCount,R=function(){function t(e){m()(this,t),$.extend(this,{emitInterval:1e3,minCount:2,maxFruitCount:c.a.maxFruitCount,maxCount:2,increateStep:0},e),this.objects=[],this.recycleObjects={},this.recycleJuices=[],this.fruitTypes=c.a.fruitTypes}return v()(t,[{key:"init",value:function(){var t=this.game,e=this.recycleJuices;j.create({game:t,colors:c.a.fruitProps.juiceColor,name:"juiceBmd"});for(var i=0;i<F;i++)e.push(new B({game:t,name:"juiceBmd",alive:!1,onKill:function(){e.length<F?e.push(this):this.destroy()}}));O.createBitmap({game:t}),this.start()}},{key:"start",value:function(){this.isStart=!0,this.startTime=Date.now(),this.doEmit()}},{key:"doEmit",value:function(){var t=this.game.rnd.between(this.minCount,this.maxCount-this.objects.length);this.emitting=!0;for(var e=0;e<t;e++)!function(e,i){setTimeout(function(){if(i.isStart){var n=i.createRandomObject();i.objects.push(n),i.emitObject(n),e==t-1&&(i.emitting=!1)}},200*e)}(e,this)}},{key:"emitObject",value:function(t){var e=this;if(t.beRecycle)return t.group.addChild(t.sprite),t.init();t.addOutofBoundsCallback(function(){var i=e.recycleObjects[t.name];e.objects=e.objects.filter(function(e){return e!=t}),t.beRecycle=!0,t.group.removeChild(t.sprite),i||(i=e.recycleObjects[t.name]=[]),i.push(t),"bomb"==t.name&&(e.bomb=null),e.objects.length<=e.minCount&&!e.emitting&&e.isStart&&(clearTimeout(e.emitTimer),e.emitTimer=setTimeout(function(){e.doEmit()},e.emitInterval))})}},{key:"createRandomObject",value:function(){var t=this.game,e=this.getRandomType(),i=this.recycleObjects[e.name],n=void 0;return i&&i.length?(window.hitCache++,"bomb"==(n=i.pop()).name&&(this.bomb=n),n):("bomb"==e.name?(n=new A({game:t,removeAll:this.destroy.bind(this)}),this.bomb=n):n=new w({hasJuice:!0,game:t}),$.extend(n,e,{group:this.group}),n.create(),window.nohit++,n)}},{key:"getRandomType",value:function(){var t=this.game,e=this.fruitTypes,i=t.time.elapsedSecondsSince(this.startTime);return this.maxCount<this.maxFruitCount&&i-this.increateStep>2&&(this.maxCount++,this.increateStep+=2),!this.bomb&&i>this.startBombTime&&(!this.lastEmitBombTime||t.time.elapsedSecondsSince(this.lastEmitBombTime)>this.emitBombInterval)?(this.lastEmitBombTime=Date.now(),e[e.length-1]):e[this.game.rnd.between(0,e.length-2)]}},{key:"createJuice",value:function(t){var e=this.game,i=t.sprite;t.name;if(t.hasJuice){var n=this.recycleJuices,a=i.x,s=i.y;if(n.length)n.pop().restart(a,s),window.hitJuiceCache++;else window.noHitJuice++,new B({game:e,x:a,y:s,name:"juiceBmd",onKill:function(){n.length<F?n.push(this):this.destroy()}})}}},{key:"destroy",value:function(){var t;for(this.isStart=!1,this.bomb=null;t=this.objects.shift();)t.remove()}},{key:"update",value:function(){if(this.isStart)for(var t=this.objects,e=t.length;e--;)t[e].update()}}]),t}();window.nohit=window.hitCache=window.hitJuiceCache=window.noHitJuice=0;var G=R,I=function(){function t(e){m()(this,t);var i=e.game;$.extend(this,e);var n=i.add.graphics(this.x||0,this.y||0);this.graphics=n,this._points=[],this.pointLife=300,this.pointWidthStep=.5,this.endSharpRatio=2,this.fillStyle=16777215,this.borderWidth=0}return v()(t,[{key:"activate",value:function(){this.isActivated=!0,this.game.input.addMoveCallback(this.touchMove,this)}},{key:"inactivate",value:function(){this.isActivated=!1,this._points=[],this.game.input.deleteMoveCallback(this.touchMove,this)}},{key:"touchMove",value:function(t,e,i,n){!this._start||1!=t.id&&0!=t.id||this.pushPoint({x:e,y:i})}},{key:"pushPoint",value:function(t){var e=this._points.length,i=this._points[e-1];if(e>0){if(i.x>>0==t.x>>0&&i.y>>0==t.y>>0)return;t.normal=this.getNormal(i,t)}t.ts=Date.now(),this._points.push(t),this._dirty=!0}},{key:"update",value:function(){if(this.isActivated){var t=this.game,e=h.a.isMobile?t.input.pointer1:t.input.mousePointer;h.a.isMobile&&!e.active||(e.isDown?this._start=!0:this._start&&e.isUp&&(this._start=!1))}}},{key:"render",value:function(){var t=this,e=this.graphics;if(this._dirty&&e.clear(),!this.isActivated||this._points.length<2)this._dirty=!1;else{e.beginFill(this.fillStyle),e.lineStyle(this.borderWidth,16767232);var i=Date.now(),n=1,a=1,s=this.pointWidthStep,r=this.endSharpRatio,o=void 0;this._points=this._points.filter(function(e){if(i-e.ts<t.pointLife)return!0});var u=this._points,c=u.length;u[0];if(!(c<2)){for(;n;){var l=u[n],h=l.normal;o=n*s,e.lineTo(l.x+a*h.y*o,l.y-a*h.x*o),n==c-1&&a>0?(e.lineTo(l.x+r*h.x*o,l.y+r*h.y*o),a=-1):n+=a}e.endFill()}}}},{key:"getNormal",value:function(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n);return{x:i/a,y:n/a}}},{key:"getAngle",value:function(){var t=this._points,e=t[0],i=t[t.length-1];if(e&&i&&e!==i){var n=i.x-e.x,a=i.y-e.y,s=180*Math.atan2(a,n)/Math.PI>>0;return s<0&&(s+=360),s}return 0}}]),t}(),W={states:0},D=function(t){function e(t){m()(this,e);var i=b()(this,(e.__proto__||f()(e)).call(this,t));return i.name="Main",i.endTime=c.a.endTime,i}return _()(e,t),v()(e,[{key:"init",value:function(t){this.status=t||"beginStatus",this.isPlay=this.isStart=!1,this.sliceFruitScope=0,this.stage.disableVisibilityChange=!0}},{key:"preload",value:function(){var t=this.game,e=c.a.readyMain;t.load.path=c.a.baseImgContext,t.load.atlas(e,e+".png",e+".json")}},{key:"create",value:function(){var t=this.game;t.physics.startSystem(Phaser.Physics.ARCADE),t.physics.arcade.checkCollision.down=!1;var e=new Phaser.Rectangle(0,0,c.a.worldWidth,c.a.worldHeight),i=t.add.sprite(0,0,c.a.resourceMain,"plat1.png");i.alignIn(e,Phaser.BOTTOM_LEFT),i.cacheAsBitmap=!0,this.fruitsGroup=t.add.group(),this.objectEmitter=new G({game:t,group:this.fruitsGroup,startBombTime:c.a.startBombTime,emitBombInterval:c.a.emitBombInterval}),this.blade=new I({game:t}),this.addFruitCounter(),this.isStart=!0,t.paused=!0,this.playReady()}},{key:"addFruitCounter",value:function(){var t=this.game,e=t.add.sprite(78,88,c.a.resourceMain,"count.png");e.anchor.set(.5),e.cacheAsBitmap=!0;var i=t.add.text(e.x+c.a.counterLeft,e.y,"x 0",{font:"52px Arial",fill:"#fff",align:"center",fontWeight:"bold"});i.anchor.set(0,.5),i.setShadow(0,5,"#ffb020",0),this.counterTxt=i}},{key:"addTimeCounter",value:function(){var t=this.game,e=t.add.sprite(857,94,c.a.resourceMain,"timer.png");e.anchor.set(.5),e.cacheAsBitmap=!0;var i=t.add.text(e.x+c.a.counterLeft,e.y,""+h.a.formatCounter(c.a.endTime/1e3),{font:"52px Arial",fill:"#fff",align:"center",fontWeight:"bold"});i.anchor.set(0,.5),i.setShadow(0,5,"#ffb020",0),this.timerTxt=i,this.counterTimer=e}},{key:"collideBladeAndFruits",value:function(){var t=this.blade._points,e=t[t.length-1];if(!(t.length<2))for(var i=this.objectEmitter.objects,n=i.length;n--;){var a=i[n];a.sprite.body.hitTest(e.x,e.y)&&a.interacted&&(a.interacted=!1,"bomb"==a.name?this.objectEmitter.exploding=!0:this.objectEmitter.createJuice(a),this.sliceFruitScope=Math.max(this.sliceFruitScope+a.scope,0),a.slice(this.blade.getAngle()))}}},{key:"setDownCounter",value:function(){var t=this.game.time.totalElapsedSeconds(),e=this.endTime/1e3-t;e=e<0?0:0|e,this.timerTxt.text=h.a.formatCounter(e)}},{key:"update",value:function(){this.blade.update(),this.objectEmitter.update(),this.collideBladeAndFruits()}},{key:"render",value:function(){this.game.paused||(this.blade.render(),this.counterTxt.text="x "+this.sliceFruitScope||0,this.isPlay&&this.timerTxt&&this.setDownCounter())}},{key:"setupTimeupTimer",value:function(t){var e=this.endTime,i=this,n=t?this.game.time.totalElapsedSeconds():0;clearTimeout(i.gameTimeupTimer);!function t(a){i.gameTimeupTimer=setTimeout(function(){var a=1e3*(i.game.time.totalElapsedSeconds()-n),s=e-a;s<=1e3?i.timeToGameEnd():t(s)},a)}(e)}},{key:"playReady",value:function(){this.game.paused=!1;var t=this.game,e=t.add.sprite(t.world.centerX+25,t.world.centerY,c.a.readyMain);e.anchor.set(.5);var i=e.animations.add("readygo",Phaser.Animation.generateFrameNames("rg",1,26,".png"));i.onComplete.add(this.play,this),i.play(10,!1,!0)}},{key:"play",value:function(){this.game.paused=!1,this.game.time.reset(),this.objectEmitter.init(),this.blade.activate(),this.startTime=Date.now(),this.setupTimeupTimer(),this.isPlay=!0,this.addTimeCounter()}},{key:"endGame",value:function(){this.objectEmitter.destroy(),this.blade.inactivate(),this.isStart=!1,clearTimeout(this.gameTimeupTimer),o.emit(o.GAMEOVER,this)}},{key:"showPlayAgain",value:function(){this.game.state.start("Menu",!0,!1,"againStatus")}},{key:"timeToGameEnd",value:function(){o.emit(o.TIMETOGAMEEND,this),W.states=2}}]),e}(k),L=function(t){function e(t){m()(this,e);var i=b()(this,(e.__proto__||f()(e)).call(this,t));return i.name="Menu",i.status="beginStatus",i.penddingOperations=[],i}return _()(e,t),v()(e,[{key:"init",value:function(t,e){t&&(this.status=t),this.sliceFruitScope=e}},{key:"preload",value:function(){var t=this.game,e=c.a.resourceMain;t.load.path=c.a.baseImgContext,t.load.atlas(e,e+".png",e+".json")}},{key:"create",value:function(){var t=this.game,e=new Phaser.Rectangle(0,0,c.a.worldWidth,c.a.worldHeight),i=t.add.sprite(0,0,c.a.resourceMain,"plat1.png");i.alignIn(e,Phaser.BOTTOM_LEFT),i.cacheAsBitmap=!0,this.addBeginScene(),this.addMenu(),this.isStart=!0,this.afterCreate(),o.emit("afterCreateMenu")}},{key:"afterCreate",value:function(){for(var t=void 0;t=this.penddingOperations.shift();)t()}},{key:"addBeginScene",value:function(){var t=this.game,e=0,i=t.add.sprite(t.world.centerX,340,c.a.resourceMain,"beginscene.png"),n=2;null==this.sliceFruitScope?(e=50,n=0):this.sliceFruitScope>0&&(n=1);var a=t.add.sprite(t.world.centerX-e,175,c.a.resourceMain,["scenewd.png","scorewd.png","noscore.png"][n]);if(i.anchor.set(.5,0),a.anchor.set(.5,0),1==n){t.add.text(a.x+48,a.y+65,this.sliceFruitScope,{font:"46px Arial",fill:"#e69a24",wordWrap:!0,wordWrapWidth:50,align:"center",fontWeight:"bold"}).anchor.set(.5)}}},{key:"addMenu",value:function(){var t=this.game,e=t.add.group(),i=t.add.button(t.world.centerX,c.a.btnTop,c.a.resourceMain,this.clickMenu,this);i.frameName="start.png",i.anchor.setTo(.5);var n=t.add.image(i.x,i.y,c.a.resourceMain,c.a.menuFrame[this.status]);n.anchor.set(.5);var a={font:"28px Arial",fill:"#fff",wordWrap:!0,wordWrapWidth:i.width,align:"center",fontWeight:"bold"},s=t.add.text(i.x,i.y+150,c.a.doc[this.status],a);s.anchor.setTo(.5),e.add(i),e.add(n),e.add(s),this.btnWord=n,this.menuTxt=s,this.menuGroup=e}},{key:"destroy",value:function(){W.states=0}},{key:"setBtnTxt",value:function(t){this.btnWord.frameName=t}},{key:"setMenuTip",value:function(t){this.menuTxt.text=t||""}},{key:"handleClick",value:function(t,e,i){if(!t)return e.call(i);navigator.userAgent.indexOf("Mobile")>=0?t.isMouse||e.call(i):t.isMouse&&e.call(i)}},{key:"clickMenu",value:function(t,e){var i=this;this.isClick||(this.isClick=!0,setTimeout(function(){i.isClick=!1,i.handleClick(e,function(){switch(W.states){case 0:o.emit(o.BEGINGAME),W.states=1;break;default:o.emit(o.GAMESTATE,W.states,W)}},i)},100))}},{key:"penddingOperation",value:function(t){this.isStart?t():this.penddingOperations.push(t)}}]),e}(k);var K=function(){var t=void 0;return{afterListeners:[],isStop:!0,playing:!1,waitToOpen:1,readyToOpen:!1,initGame:function(e){var i=new D(t),n=new L(t);t.state.add("Main",i),t.state.add("Menu",n),t.state.start("Menu"),this.isInitial=!0,this.mainstate=i,this.menuState=n},preload:function(){var e=document.body.clientWidth,i=e/t.world.width;t.scale.maxWidth=e,t.scale.maxHeight=t.world.height*i,t.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,t.scale.compatibility.scrollTo=!1,t.stage.backgroundColor="#6243b2",t.input.touch.preventDefault=!1,Phaser.Canvas.setTouchAction(t.canvas,"initial"),t.input.maxPointers=1,$("#game-canvas canvas").css({width:t.scale.maxWidth+"px",height:t.scale.maxHeight+"px"})},create:function(t){this.initGame(t),o.emit("create")},destroy:function(){this.menuState.destroy(),this.mainstate.isStart&&this.mainstate.endGame(),t&&t.destroy(),Phaser.PIXI.WebGLGraphics.graphicsDataPool=[]},beginGame:function(){this.isStop=!1,t.state.start("Main",!0,!1),this.menuState.isStart=!1},stopGame:function(){this.isStop=!0,this.mainstate.isStart&&this.mainstate.endGame()},beginPlay:function(){this.mainstate.play()},addCreateListener:function(t){this.isInitial&&t(),this.afterListeners.push(t)},toOpenState:function(){this.stopGame(),t.state.start("Menu",!0,!1,"openStatus",this.mainstate.sliceFruitScope)},toLotteryState:function(){this.stopGame(),t.state.start("Menu",!0,!1,"seeResultStatus",this.mainstate.sliceFruitScope)},backToMenu:function(){t.paused=!1,this.mainstate.isStart=!1,t.state.start("Menu",!0,!1,"beginStatus")},setBtnTxt:function(t){var e=this.menuState;e.penddingOperation(function(){e.setBtnTxt(t)})},setMenuTxt:function(t){},setMenuTip:function(t){this.menuState.setMenuTip(t)},addBeginScene:function(){this.menuState.addBeginScene()},getCutCount:function(){return this.mainstate.sliceFruitScope},addTimeCounter:function(){this.mainstate.addTimeCounter()},killTimeCounter:function(){var t=this.mainstate;t.counterTimer.destroy(),t.timerTxt.destroy(),t.setupTimeupTimer(!0)},init:function(){return t=this.game=new Phaser.Game(c.a.worldWidth,c.a.worldHeight,Phaser.AUTO,"game-canvas",{preload:this.preload.bind(this),create:this.create.bind(this)}),this}}.init()},N={name:"cutfruit",mounted:function(){var t=K();o.on(o.BEGINGAME,function(){t.beginGame()}),o.on(o.TIMETOGAMEEND,function(){t.toOpenState()}),o.on(o.GAMESTATE,function(e,i){2==e&&(t.menuState.status="gameOver",t.setBtnTxt(c.a.menuFrame.gameOver),t.setMenuTip())}),this.game=t},beforeDestroy:function(){this.game.destroy(),o.offAll()}},q={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"game-canvas"}})},staticRenderFns:[]};var Q=i("VU/8")(N,q,!1,function(t){i("p9wh")},null,null);e.default=Q.exports},"0R//":function(t,e,i){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},"0eJ/":function(t,e,i){"use strict";var n=i("7qQr"),a=Array.prototype.forEach,s=Object.create;t.exports=function(t){var e=s(null);return a.call(arguments,function(t){n(t)&&function(t,e){var i;for(i in t)e[i]=t[i]}(Object(t),e)}),e}},"3vM5":function(t,e,i){"use strict";var n=i("f2YR");t.exports=function(t){if(!n(t))throw new TypeError(t+" is not an Object");return t}},"7qQr":function(t,e,i){"use strict";var n=i("9++m")();t.exports=function(t){return t!==n&&null!==t}},"8I+T":function(t,e){t.exports={startBtnStr:"开始夺奖",APP_NAME:"土豆视频",totalDrawTime:3,resourceMain:"resMain",menuMain:"menuMain",readyMain:"readygo",explodeMain:"explode",background:"background",beginScene:"beginscene",baseImgContext:"static/imgs/cutfruit/",worldWidth:1080,worldHeight:994,maxFruitCount:4,startBombTime:6,emitBombInterval:2,fruitProps:{maxHeight:590.8,minHeight:337.6,yAcceleration:100,maxXSpeed:200,gravityY:2e3,juiceColor:["#fdb32b","#fdb32b"],throwBottom:150},endTime:2e4,btnTop:698,counterLeft:45,counterTop:11,doc:{appPromo:"土豆视频-新鲜有趣",suspend:"抽奖机会+3",startUp:["点击安装土豆视频APP并开始游戏，分数越高中奖概率越高哦！","点击获取游戏机会，分数越高中奖概率越高哦！"],playing:"快切那些土豆，小心炸弹哦，分数越高中奖概率越高！",openStatus:"点击打开土豆视频APP，返回活动抽奖机会+3次哦~",readyFail:"要先点击“开始夺奖”下载土豆视频APP才能切土豆哦~"},menuFrame:{gameOver:"gooverwd.png",beginStatus:"beginword.png",openStatus:"openwd.png",seeResultStatus:"lotterywd.png",seeResultAgainStatus:"againwd.png"},fruitTypes:[{name:"apple",sliceAngle:180,scope:1},{name:"banana",sliceAngle:180,scope:1},{name:"basaha",sliceAngle:180,scope:1},{name:"bomb",scope:-3}],cache:{juiceCount:0},openStateTips:{withScope:function(t){return'太棒啦！你成功收获了<span class="spec-count">'+t+"</span>个土豆~"},noScope:"分数为0哦，一定是切到了西北风，快去获取抽奖机会吧~"},isInstall:!0}},"9++m":function(t,e,i){"use strict";t.exports=function(){}},"9bBU":function(t,e,i){i("mClu");var n=i("FeBl").Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},ArYV:function(t,e,i){"use strict";var n=i("7qQr"),a=Object.keys;t.exports=function(t){return a(n(t)?Object(t):t)}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},K6ED:function(t,e,i){t.exports={default:i("cnlX"),__esModule:!0}},Kh5d:function(t,e,i){var n=i("sB3e"),a=i("PzxK");i("uqUo")("getPrototypeOf",function(){return function(t){return a(n(t))}})},Kqp3:function(t,e,i){"use strict";t.exports=function(t){return"function"==typeof t}},OvRC:function(t,e,i){t.exports={default:i("oM7Q"),__esModule:!0}},Pf15:function(t,e,i){"use strict";e.__esModule=!0;var n=r(i("kiBT")),a=r(i("OvRC")),s=r(i("pFYg"));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},QZa2:function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},RDPa:function(t,e,i){"use strict";t.exports=i("0R//")()?Object.assign:i("+Skr")},Sugm:function(t,e,i){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},XUym:function(t,e,i){"use strict";t.exports=i("+Zc3")()?String.prototype.contains:i("usXS")},ZaQb:function(t,e,i){var n=i("EqjI"),a=i("77Pl"),s=function(t,e){if(a(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i("+ZMJ")(Function.call,i("LKZe").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},Zrlr:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},Zx67:function(t,e,i){t.exports={default:i("fS6E"),__esModule:!0}},belN:function(t,e,i){"use strict";var n=i("3vM5"),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e,i=arguments[1];if(n(t),void 0===i)a.call(t,"__ee__")&&delete t.__ee__;else{if(!(e=a.call(t,"__ee__")&&t.__ee__))return;e[i]&&delete e[i]}}},cnlX:function(t,e,i){i("iInB");var n=i("FeBl").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},exh5:function(t,e,i){var n=i("kM2E");n(n.S,"Object",{setPrototypeOf:i("ZaQb").set})},f2YR:function(t,e,i){"use strict";var n=i("7qQr"),a={function:!0,object:!0};t.exports=function(t){return n(t)&&a[typeof t]||!1}},fS6E:function(t,e,i){i("Kh5d"),t.exports=i("FeBl").Object.getPrototypeOf},"h+QR":function(t,e,i){"use strict";var n=i("7qQr");t.exports=function(t){if(!n(t))throw new TypeError("Cannot use null or undefined");return t}},"i/C/":function(t,e,i){i("exh5"),t.exports=i("FeBl").Object.setPrototypeOf},iInB:function(t,e,i){var n=i("TcQ7"),a=i("LKZe").f;i("uqUo")("getOwnPropertyDescriptor",function(){return function(t,e){return a(n(t),e)}})},kiBT:function(t,e,i){t.exports={default:i("i/C/"),__esModule:!0}},mClu:function(t,e,i){var n=i("kM2E");n(n.S+n.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},oM7Q:function(t,e,i){i("sF+V");var n=i("FeBl").Object;t.exports=function(t,e){return n.create(t,e)}},p9wh:function(t,e,i){var n=i("QZa2");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("490835cd",n,!0)},pUTq:function(t,e,i){"use strict";var n=i("RDPa"),a=i("0eJ/"),s=i("Kqp3"),r=i("XUym");(t.exports=function(t,e){var i,s,o,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(i=o=!0,s=!1):(i=r.call(t,"c"),s=r.call(t,"e"),o=r.call(t,"w")),c={value:e,configurable:i,enumerable:s,writable:o},u?n(a(u),c):c}).gs=function(t,e,i){var o,u,c,l;return"string"!=typeof t?(c=i,i=e,e=t,t=null):c=arguments[3],null==e?e=void 0:s(e)?null==i?i=void 0:s(i)||(c=i,i=void 0):(c=e,e=i=void 0),null==t?(o=!0,u=!1):(o=r.call(t,"c"),u=r.call(t,"e")),l={get:e,set:i,configurable:o,enumerable:u},c?n(a(c),l):l}},"r+oh":function(t,e,i){"use strict";t.exports=i("Sugm")()?Object.keys:i("ArYV")},"sF+V":function(t,e,i){var n=i("kM2E");n(n.S,"Object",{create:i("Yobk")})},uqUo:function(t,e,i){var n=i("kM2E"),a=i("FeBl"),s=i("S82l");t.exports=function(t,e){var i=(a.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*s(function(){i(1)}),"Object",r)}},usXS:function(t,e,i){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},wxAW:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i("C4MV"),s=(n=a)&&n.__esModule?n:{default:n};e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},yEsh:function(t,e,i){"use strict";e.__esModule=!0;var n=s(i("Zx67")),a=s(i("K6ED"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,i,s){null===e&&(e=Function.prototype);var r=(0,a.default)(e,i);if(void 0===r){var o=(0,n.default)(e);return null===o?void 0:t(o,i,s)}if("value"in r)return r.value;var u=r.get;return void 0!==u?u.call(s):void 0}},yKtR:function(t,e){var i={isMobile:-1!=navigator.userAgent.toLocaleLowerCase().indexOf("mobile"),formatCounter:function(t){var e=Math.floor(t/60),i=t%60;return(e=("00"+e).substr(-2))+":"+(i=("00"+i).substr(-2))}};t.exports=i},ypwr:function(t,e,i){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},zQo6:function(t,e,i){"use strict";var n,a,s,r,o,u,c,l=i("pUTq"),h=i("ypwr"),d=Function.prototype.apply,f=Function.prototype.call,p=Object.create,m=Object.defineProperty,y=Object.defineProperties,v=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};o={on:n=function(t,e){var i;return h(e),v.call(this,"__ee__")?i=this.__ee__:(i=g.value=p(null),m(this,"__ee__",g),g.value=null),i[t]?"object"==typeof i[t]?i[t].push(e):i[t]=[i[t],e]:i[t]=e,this},once:a=function(t,e){var i,a;return h(e),a=this,n.call(this,t,i=function(){s.call(a,t,i),d.call(e,this,arguments)}),i.__eeOnceListener__=e,this},off:s=function(t,e){var i,n,a,s;if(h(e),!v.call(this,"__ee__"))return this;if(!(i=this.__ee__)[t])return this;if("object"==typeof(n=i[t]))for(s=0;a=n[s];++s)a!==e&&a.__eeOnceListener__!==e||(2===n.length?i[t]=n[s?0:1]:n.splice(s,1));else n!==e&&n.__eeOnceListener__!==e||delete i[t];return this},emit:r=function(t){var e,i,n,a,s;if(v.call(this,"__ee__")&&(a=this.__ee__[t]))if("object"==typeof a){for(i=arguments.length,s=new Array(i-1),e=1;e<i;++e)s[e-1]=arguments[e];for(a=a.slice(),e=0;n=a[e];++e)d.call(n,this,s)}else switch(arguments.length){case 1:f.call(a,this);break;case 2:f.call(a,this,arguments[1]);break;case 3:f.call(a,this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),e=1;e<i;++e)s[e-1]=arguments[e];d.call(a,this,s)}}},u={on:l(n),once:l(a),off:l(s),emit:l(r)},c=y({},u),t.exports=e=function(t){return null==t?p(c):y(Object(t),u)},e.methods=o},zwoO:function(t,e,i){"use strict";e.__esModule=!0;var n,a=i("pFYg"),s=(n=a)&&n.__esModule?n:{default:n};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,s.default)(e))&&"function"!=typeof e?t:e}}});