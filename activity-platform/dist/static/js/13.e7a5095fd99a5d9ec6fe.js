webpackJsonp([13],{"+Skr":function(t,e,n){"use strict";var i=n("r+oh"),a=n("h+QR"),r=Math.max;t.exports=function(t,e){var n,o,s,u=r(arguments.length,2);for(t=Object(a(t)),s=function(i){try{t[i]=e[i]}catch(t){n||(n=t)}},o=1;o<u;++o)e=arguments[o],i(e).forEach(s);if(void 0!==n)throw n;return t}},"+Zc3":function(t,e,n){"use strict";var i="razdwatrzy";t.exports=function(){return"function"==typeof i.contains&&(!0===i.contains("dwa")&&!1===i.contains("foo"))}},"0R//":function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},"0eJ/":function(t,e,n){"use strict";var i=n("7qQr"),a=Array.prototype.forEach,r=Object.create;t.exports=function(t){var e=r(null);return a.call(arguments,function(t){i(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},"6WQw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("zQo6"),a=n.n(i),r=n("wh1C"),o=n.n(r),s=n("Zrlr"),u=n.n(s),c=n("wxAW"),d=n.n(c);function l(t){return parseInt(t,2)}function h(t,e){var n=(1*t).toString(2);return n="00000000"+n,void 0===e?n.substr(-8):e+n.substr(-7)}function p(t,e){if(t.length>=e)return t;var n=e-t.length+1;return new Array(n).join(0)+t}var f=function(){function t(){u()(this,t),this.content="",this.bufCount=0,this.width=0,this.height=0}return d()(t,[{key:"append",value:function(t,e){return this.content+=h(t,e),this.bufCount+=t,this}},{key:"lineEnd",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.bufCount%this.width;if(n)return t=this.width-n,this.content+=h(t,e),this.bufCount+=t,this}},{key:"toBinary",value:function(){return h(this.width)+h(this.height)+this.content}},{key:"toBigInt",value:function(){for(var t=this.toBinary(),e=t.length,n=[],i=0;i<e;)n.push(l(t.substr(i,32))),e-i<=32&&n.push(e-i),i+=32;return n}}],[{key:"parseData",value:function(t){var e=(t=[].concat(t))[0],n=2==t.length?t[1]:32,i=p(e.toString(2),n),a=[],r=t.length;l(i.substr(0,8)),l(i.substr(8,8));a=c(i=i.substr(16));for(var o=1;o<r-1;o++){var s,u=32;r-2===o&&(u=t[r-1]),s=p(t[o].toString(2),u),a=a.concat(c(s))}return a;function c(t){for(var e,n,i=t.length,a=[],r=0;r<i;){var o=t.substr(r,8);a=a.concat((e=o.charAt(0),n=l(o.substr(1)),new Array(n+1).join(e).split(""))),r+=8}return a}}}]),t}(),b=(n("zRJh"),new f);b.width=6,b.height=10,b.append(b.width,1).append(b.width,1).append(2,1).lineEnd().append(2,1).lineEnd().append(b.width,1).append(b.width,1).append(2,1).append(b.width-4,0).append(2,1).append(2,1).append(b.width-4,0).append(2,1).append(b.width,1).append(b.width,1);var v=f.parseData(b.toBigInt()),w=new f;w.width=2,w.height=10;for(var g=0;g<w.height;g++)w.append(w.width,1);var y=f.parseData(w.toBigInt()),m=new f;m.width=6,m.height=10,m.append(b.width,1).append(b.width,1).append(2,1).append(b.width-4,0).append(2,1).append(2,1).append(b.width-4,0).append(2,1).append(b.width,1).append(b.width,1).append(2,1).append(b.width-4,0).append(2,1).append(2,1).append(b.width-4,0).append(2,1).append(b.width,1).append(b.width,1);var x=f.parseData(m.toBigInt());var k=function(){var t=void 0;return a()({afterListeners:[],isStop:!0,playing:!1,actived:!1,ballOnPaddle:!0,states:0,initGame:function(e){this.isInitial=!0,t.physics.startSystem(Phaser.Physics.ARCADE),t.physics.arcade.setBounds(o.a.borderdBound,o.a.boundTop,t.world.width-2*o.a.borderdBound,t.world.height-o.a.boundTopBottom),this.addBackground(),this.bindEvent(e),this.afterListeners.forEach(function(t){t()})},bindEvent:function(e){t.input.onTap.add(this.releaseBall.bind(this),e)},addBackground:function(){t.add.sprite(0,0,o.a.starfieldMain),this.addBricks(),this.addWeapon(),this.addMenu(),this.addMenuTip(),this.counterTxt=t.add.text(o.a.borderdBound+o.a.counterLeft,o.a.counterTop,"0",{font:"38px Arial",fill:"#41c4e2",wordWrap:!0,align:"center",fontWeight:"bold"})},addBricks:function(){var e,n,i=t.add.group();i.enableBody=!0,i.physicsBodyType=Phaser.Physics.ARCADE;var a=b.width*o.a.brickWidth,r=w.width*o.a.brickWidth,s=2*o.a.wordSpace;e=s+a+r+m.width*o.a.brickWidth,n=(t.world.width-e)/2,this.drawWord(i,v,b.width,n,0),this.drawWord(i,y,w.width,n+o.a.wordSpace+a,1),this.drawWord(i,x,m.width,n+s+a+r,2),this.totalBrickCount=this.livingBrickCount=i.countLiving(),this.bricks=i},drawWord:function(t,e,n,i,a){for(var r=e.length,s=o.a.wordTop,u=o.a.specBrickPos[a],c=void 0,d=0;d<r;d++){var l=Math.floor(d/n),h=d%n,p=1;1==e[d]&&(u[l]&&u[l][h]&&(p=2),(c=t.create(i+h*o.a.brickWidth,s+l*o.a.brickHeight,o.a.breakoutMain,"brick_"+p+".png")).body.bounce.set(1),c.body.immovable=!0,c.elementType=p)}},addWeapon:function(){var e=t.world.height-o.a.paddleTop,n=t.add.sprite(t.world.centerX,e,o.a.breakoutMain,"paddle.png");n.anchor.setTo(.5),t.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.bounce.set(1),n.body.immovable=!0,this.ballTop=n.y-o.a.ballPosPaddleTopFactor;var i=t.add.sprite(t.world.centerX,this.ballTop,o.a.breakoutMain,"ball.png");i.anchor.set(.5),i.checkWorldBounds=!0,t.physics.enable(i,Phaser.Physics.ARCADE),i.body.collideWorldBounds=!0,i.body.bounce.set(1),i.events.onOutOfBounds.add(this.ballLost.bind(this),this),i.body.onWorldBounds=new Phaser.Signal,i.body.onWorldBounds.add(this.hitBound,this),this.paddle=n,this.ball=i},addMenu:function(){var e=t.add.group(),n=t.add.button(t.world.centerX,o.a.btnTop,o.a.breakoutMain,this.clickMenu,this);n.frameName="start.png",n.anchor.setTo(.5);var i={font:"46px Arial",fill:"#fff",wordWrap:!0,wordWrapWidth:n.width,align:"center",fontWeight:"bold"},a=t.add.text(n.x,n.y+2,"开始游戏",i);a.anchor.setTo(.5),e.add(n),e.add(a),this.menuTxt=a,this.menuGroup=e},disabledMenu:function(){this.menuGroup.getAt(0).input.enabled=!1,this.menuGroup.alpha=0},enableMenu:function(){this.menuGroup.getAt(0).input.enabled=!0,this.menuGroup.alpha=1},clickMenu:function(t,e){var n=this;setTimeout(function(){n.handleClick(e,function(){switch(n.states){case 0:case 3:n.beginGame()}n.emit("states",n.states)},n)},50)},setMenuTxt:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:46;e&&(this.menuTxt.fontSize=e),this.menuTxt.text=t,0==this.menuGroup.alpha&&this.enableMenu()},addMenuTip:function(){var e=t.add.text(t.world.centerX+10,this.menuTxt.y+this.menuTxt.height+70,"",{font:"36px Arial",fill:"#ff3960",wordWrap:!0,align:"center"});e.anchor.setTo(.5),this.menuTip=e},setMenuTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.menuTip.text=t,t?this.changeMenuTip(!0):this.changeMenuTip()},changeMenuTip:function(t){t?this.menuTip.revive():this.menuTip.kill()},addArrowTip:function(){var e=t.add.sprite(t.world.centerX,t.world.height-o.a.paddleTop,o.a.breakoutMain,"arrowtip.png");e.anchor.setTo(.5),this.arrowTipTween=t.add.tween(e.scale).to({x:1.5,y:1},500,"Quart.easeOut",!0,0,-1,!0).yoyo(!0,300).start(),this.arrowTip=e},removeArrowTip:function(){this.arrowTip&&(this.arrowTipTween.stop(),this.arrowTip.kill())},hitBound:function(t,e,n){n&&this.ballLost()},releaseBall:function(t){var e=this,n=this.ball;this.handleClick(t,function(){e.ballOnPaddle&&!e.isStop&&(e.ballOnPaddle=!1,n.body.velocity.y=-o.a.ballSpeed,n.body.velocity.x=-75)},this)},handleClick:function(t,e,n){if(!t)return e.call(n);navigator.userAgent.indexOf("Mobile")>=0?t.isMouse||e.call(n):t.isMouse&&e.call(n)},ballLost:function(){var e=this.ball,n=this.paddle;this.ballOnPaddle=!0,n.x=t.world.centerX,e.reset(n.x,this.ballTop)},preload:function(){var e="static/imgs/breakout",n=document.body.clientWidth,i=n/t.world.width;t.scale.maxWidth=n,t.scale.maxHeight=t.world.height*i,t.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,t.input.touch.preventDefault=!1,Phaser.Canvas.setTouchAction(t.canvas,"initial"),$("#game-canvas canvas").css({width:t.scale.maxWidth+"px",height:t.scale.maxHeight+"px"}),t.load.atlas(o.a.breakoutMain,e+"/breakout.png",e+"/breakout.json"),t.load.image(o.a.starfieldMain,e+"/gmbg.webp")},create:function(t){this.initGame(t)},update:function(){if(!this.isStop){var e=this.paddle,n=this.ball,i=o.a.borderdBound+e.width/2;e.x=t.input.x,e.x<i?e.x=i:e.x>t.width-i&&(e.x=t.width-i),this.ballOnPaddle?n.x=e.x:(t.physics.arcade.collide(n,e,this.ballHitPaddle.bind(this),null,this),t.physics.arcade.collide(n,this.bricks,this.ballHitBrick.bind(this),null,this))}},ballHitPaddle:function(t,e){var n=0;t.x<e.x?(n=e.x-t.x,t.body.velocity.x=-5*n):t.x>e.x?(n=t.x-e.x,t.body.velocity.x=5*n):t.body.velocity.x=2+8*Math.random()},ballHitBrick:function(t,e){2==e.elementType?(e.frameName="brick_3.png",e.elementType=3):(3==e.elementType&&(e.elementType=2,e.frameName="brick_2.png"),e.kill(),this.livingBrickCount--),0==this.livingBrickCount&&(t.body.velocity.set(0),this.ballLost(),this.stopGame(),this.setDeadBrickCount(this.totalBrickCount-this.livingBrickCount),this.beforeBeginGameAgain()?(this.states=3,this.showPlayAgain()):(this.resetGame(),this.afterGameOver()))},render:function(){this.isStop||this.ballOnPaddle||this.setDeadBrickCount(this.totalBrickCount-this.livingBrickCount)},destroy:function(){t&&t.destroy()},setDeadBrickCount:function(t){this.counterTxt.text=t},beforeBeginGame:function(t){t()},beforeBeginGameAgain:function(){return!1},afterGameOver:function(){},beginGame:function(){var t=this;this.beforeBeginGame(function(){t.states=1,t.isStop=!1,t.livingBrickCount=t.totalBrickCount,t.disabledMenu(),t.releaseBall()})},stopGame:function(){this.isStop=!0},resetGame:function(){this.isStop=!0,this.ballLost()},showPlayAgain:function(){this.menuTxt.text="再来一局",this.enableMenu(),this.bricks.callAll("revive"),this.isStop=!0},addCreateListener:function(t){this.isInitial&&t(),this.afterListeners.push(t)},init:function(){return t=this.game=new Phaser.Game(o.a.worldWidth,o.a.worldHeight,Phaser.AUTO,"game-canvas",{preload:this.preload.bind(this),create:this.create.bind(this),update:this.update.bind(this),render:this.render.bind(this)},!0),this}}).init()},T={name:"breakout-clone",mounted:function(){var t=1;this.game=k(),this.game.beforeBeginGameAgain=function(e){if(t-- >0)return!0}},beforeDestroy:function(){this.game.destroy()}},B={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"game-canvas"}})},staticRenderFns:[]},_=n("VU/8")(T,B,!1,null,null,null);e.default=_.exports},"7qQr":function(t,e,n){"use strict";var i=n("9++m")();t.exports=function(t){return t!==i&&null!==t}},"9++m":function(t,e,n){"use strict";t.exports=function(){}},"9bBU":function(t,e,n){n("mClu");var i=n("FeBl").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},ArYV:function(t,e,n){"use strict";var i=n("7qQr"),a=Object.keys;t.exports=function(t){return a(i(t)?Object(t):t)}},C4MV:function(t,e,n){t.exports={default:n("9bBU"),__esModule:!0}},Kqp3:function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},RDPa:function(t,e,n){"use strict";t.exports=n("0R//")()?Object.assign:n("+Skr")},Sugm:function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},XUym:function(t,e,n){"use strict";t.exports=n("+Zc3")()?String.prototype.contains:n("usXS")},Zrlr:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"h+QR":function(t,e,n){"use strict";var i=n("7qQr");t.exports=function(t){if(!i(t))throw new TypeError("Cannot use null or undefined");return t}},mClu:function(t,e,n){var i=n("kM2E");i(i.S+i.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},pUTq:function(t,e,n){"use strict";var i=n("RDPa"),a=n("0eJ/"),r=n("Kqp3"),o=n("XUym");(t.exports=function(t,e){var n,r,s,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=s=!0,r=!1):(n=o.call(t,"c"),r=o.call(t,"e"),s=o.call(t,"w")),c={value:e,configurable:n,enumerable:r,writable:s},u?i(a(u),c):c}).gs=function(t,e,n){var s,u,c,d;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:r(e)?null==n?n=void 0:r(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(s=!0,u=!1):(s=o.call(t,"c"),u=o.call(t,"e")),d={get:e,set:n,configurable:s,enumerable:u},c?i(a(c),d):d}},"r+oh":function(t,e,n){"use strict";t.exports=n("Sugm")()?Object.keys:n("ArYV")},usXS:function(t,e,n){"use strict";var i=String.prototype.indexOf;t.exports=function(t){return i.call(this,t,arguments[1])>-1}},wh1C:function(t,e){t.exports={startBtnStr:"开始游戏",APP_NAME:"手机京东",totalDrawTime:3,breakoutMain:"breakout",starfieldMain:"starfield",brickWidth:41,brickHeight:29,worldWidth:1080,worldHeight:1010,ballSpeed:800,ballPosPaddleTopFactor:43,paddleTop:140,wordTop:110,wordSpace:83,specBrickPos:[{0:{0:1,5:1},9:{0:1,5:1}},{1:{0:1,1:1},9:{0:1,1:1}},{0:{0:1,5:1},9:{0:1,5:1}}],borderdBound:90,boundTop:25,boundTopBottom:80,btnTop:578,counterLeft:123,counterTop:11,doc:{suspend:"抽奖机会+3",startUp:[" 点“开始游戏”安装手机京东APP，618打破底价抽大奖！","点“开始游戏”获取游戏机会，618打破底价抽大奖！"],playing:"移动接球，打掉砖块越多中奖概率越高哦！",playAgain:"已打掉全部砖块，再来一局吧，安装完成即可抽奖！",open:"点击打开手机京东APP，返回活动抽奖机会+3哦~",gameOver:"不止5折，立抢»"}}},wxAW:function(t,e,n){"use strict";e.__esModule=!0;var i,a=n("C4MV"),r=(i=a)&&i.__esModule?i:{default:i};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},ypwr:function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},zQo6:function(t,e,n){"use strict";var i,a,r,o,s,u,c,d=n("pUTq"),l=n("ypwr"),h=Function.prototype.apply,p=Function.prototype.call,f=Object.create,b=Object.defineProperty,v=Object.defineProperties,w=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};s={on:i=function(t,e){var n;return l(e),w.call(this,"__ee__")?n=this.__ee__:(n=g.value=f(null),b(this,"__ee__",g),g.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:a=function(t,e){var n,a;return l(e),a=this,i.call(this,t,n=function(){r.call(a,t,n),h.call(e,this,arguments)}),n.__eeOnceListener__=e,this},off:r=function(t,e){var n,i,a,r;if(l(e),!w.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(i=n[t]))for(r=0;a=i[r];++r)a!==e&&a.__eeOnceListener__!==e||(2===i.length?n[t]=i[r?0:1]:i.splice(r,1));else i!==e&&i.__eeOnceListener__!==e||delete n[t];return this},emit:o=function(t){var e,n,i,a,r;if(w.call(this,"__ee__")&&(a=this.__ee__[t]))if("object"==typeof a){for(n=arguments.length,r=new Array(n-1),e=1;e<n;++e)r[e-1]=arguments[e];for(a=a.slice(),e=0;i=a[e];++e)h.call(i,this,r)}else switch(arguments.length){case 1:p.call(a,this);break;case 2:p.call(a,this,arguments[1]);break;case 3:p.call(a,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,r=new Array(n-1),e=1;e<n;++e)r[e-1]=arguments[e];h.call(a,this,r)}}},u={on:d(i),once:d(a),off:d(r),emit:d(o)},c=v({},u),t.exports=e=function(t){return null==t?f(c):v(Object(t),u)},e.methods=s},zRJh:function(t,e){var n={formatCounter:function(t){var e=Math.floor(t/60),n=t%60;return(e=("00"+e).substr(-2))+":"+(n=("00"+n).substr(-2))}};t.exports=n}});